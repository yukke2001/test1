# PROJECT_STRUCTURE.md - プロジェクト構成詳細

## ファイル分類と役割

### 🎮 ゲームコアファイル（削除厳禁）
| ファイル名 | 役割 | 変更可否 | 備考 |
|-----------|------|---------|------|
| `game.jsp` | 基本ゲーム画面 | 要注意 | メインゲームロジック |
| `game_backup.jsp` | バックアップファイル | 削除禁止 | 元の実装保管用 |
| `game_enhanced.jsp` | 拡張機能版 | 要注意 | 高度な機能実装 |
| `reset.jsp` | リセット機能 | 変更可 | ゲーム状態初期化 |
| `result.jsp` | 結果表示 | 変更可 | スコア・結果表示 |

### 🎨 スタイルファイル（削除厳禁）
| ファイル名 | 役割 | 適用対象 |
|-----------|------|---------|
| `game.css` | 基本スタイル | 全ゲーム画面 |
| `game_6cards.css` | 6枚カード用 | 6枚モード専用 |
| `game_new.css` | 新機能用 | 新機能画面 |
| `card_effects.css` | カードエフェクト | カードアニメーション |
| `random_layout.css` | ランダムレイアウト | 動的配置機能 |
| `result.css` | 結果画面用 | 結果表示専用 |
| `start.css` | スタート画面用 | 開始画面専用 |

### 📋 設定・エントリーファイル
| ファイル名 | 役割 | 重要度 |
|-----------|------|--------|
| `index.jsp` | エントランス | 高 |
| `web.xml` | Web設定 | 高 |

### 📚 ライブラリ
| ファイル名 | 用途 |
|-----------|------|
| `javax.servlet-api-4.0.1.jar` | Servlet API |
| `postgresql-42.7.7.jar` | DB接続（オプション） |

## 開発時の注意事項

### ✅ 推奨される開発パターン
1. **新機能追加時**
   - 新しいJSPファイルを作成：`feature_[機能名].jsp`
   - 専用CSSを作成：`[機能名].css`
   - 必要に応じてJavaScriptを追加：`[機能名].js`

2. **既存機能の改良時**
   - バックアップを作成してから変更
   - 段階的な変更でテスト

3. **実験的機能**
   - `experimental_` プレフィックスを使用
   - `experimental_[機能名].jsp`

### ❌ 禁止事項
- 既存ファイルの削除
- 既存ファイルの名前変更
- バックアップファイル（`*_backup.*`）の削除
- `WEB-INF/web.xml` の不適切な変更

## ディレクトリ構造保護

```
Test02/ (ルート - 変更禁止)
├── docs/                         # ドキュメント（新規作成）
│   ├── README.md
│   ├── PROJECT_STRUCTURE.md
│   └── DEVELOPMENT_GUIDE.md
├── assets/                       # 静的リソース（新規作成）
│   ├── css/                      # 新しいCSS用
│   ├── js/                       # JavaScript用
│   └── images/                   # 画像用
├── features/                     # 新機能用（新規作成）
│   ├── [機能名]/
│   │   ├── [機能名].jsp
│   │   ├── [機能名].css
│   │   └── [機能名].js
├── legacy/                       # レガシーコード保管（新規作成）
└── 既存ファイル群（保護対象）
```

## バージョン管理推奨

### ファイルのバックアップ命名規則
```
[元ファイル名]_backup_YYYYMMDD.[拡張子]
例：game_backup_20251204.jsp
```

### 変更履歴の記録
- 各ファイルの先頭にコメントで変更履歴を記録
- 変更日時、変更者、変更内容を明記
